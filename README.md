# TPhpTools - библиотека PHP-прикладных классов
История с классами началась давно. Библиотека прикладных классов для Clipper-Summer87 создавалась в восьмидесятых годах двадцатого века. В следующем десятилетии жизнь заставила построить библиотеку для Delphi.  А теперь пришла пора для PHP и JavaScript.

###### spisok-klassov
### 1. Алфавитный список классов библиотеки:
###### obsluzhivatel-baz-dannyh-sqlite3
#### [TBaseMaker](#tbasemaker) - обслуживатель баз данных SQLite3 через PDO. 
###### kontroller-katalogov-i-fajlov
#### [TCtrlDir](#tctrldir) - контроллер каталогов и файлов. 
###### registrator-vremeni-zagruzki-stranicy
#### [TFixLoadTimer](#tfixloadtimer) - регистратор времени загрузки страницы. 
###### starter-sessii-stranicy
#### [TPageStarter](#tpagestarter) - стартер сессии страницы и регистратор пользовательских данных. 
###### zagruzchik-fajlov-na-server
#### [TUploadToServer](#tuploadtoserver) - загрузчик файлов на сервер. 


### 2. Описания классов библиотеки: 

***
#### TBaseMaker
####  Обслуживатель баз данных SQLite3 через PDO. 
##### Класс TBaseMaker обеспечивает ведение баз данных SQlite3 PDO: создание таблиц, внесение данных, индексирование и выборку значений.
##### v1.0, 18.12.2020-02.01.2021
###### [в список](#obsluzhivatel-baz-dannyh-sqlite3)
***
#### TCtrlDir
####  Контроллер каталогов и файлов. 
---Программный модуль CommonPrown содержит в себе небольшие функции, которые могут быть использованы при написании сайта на PHP или в backend-разработке проекта.

---Функции Alert и ConsoleLog выводят сообщения на странице в браузере. Alert выводит сообщение на экран и приостанавливает работу сайта. ConsoleLog может быть использована при динамической отладке сервера сайта. Она выводит сообщение в консоли браузера, не останавливая вывод на странице.

---Две функции getComRequest,isComRequest позволяют выбирать или проверять значения параметров в GET или POST запросах, направляемых к сайту. По умолчанию предполагаются для проверки или выборки, так называемые команды в запросе к сайту, то есть параметры с именем "Com". Например, в запросе для сайта kwinflat.ru "показать справочник услуг", который выглядит следующим  образом: https://kwinflat.ru/Main.php?Com=Uslugi, параметр "Com" имеет  значение "Uslugi".

##### v1.0, 05.10.2016-18.10.2016
###### [в список](#kontroller-katalogov-i-fajlov)
***
#### TFixLoadTimer
#### Регистратор времени загрузки страницы. 
##### Класс TFixLoadTimer обеспечивает расчет и регистрацию текущего, среднего, наибольшего и наименьшего времени загрузки страницы сайта. По умолчанию определенные данные записываются в памяти браузера LocalStorage. Если браузером LocalStorage не поддерживается, то расчитанные значения записываются в кукисы. 
##### ---Findes возвращает первое или единственное вхождение подстроки в исходной строке, а в случае неудачи возвращает пустую строку.
##### ---Через третий параметр функция по ссылке возвращает позицию найденного фрагмента, начиная с нулевого значения, или -1, если фрагмент не найден.
##### v1.0, 03.06.2019-25.06.2019
**Синтаксис**

    $Result=Findes($preg,$string,&$point)

**Параметры**

    $preg   - текст регулярного выражения;
    $string - текст, который должен быть обработан регулярным выражением;
    $point  - позиция начала найденного фрагмента после работы регулярного 
    выражения (параметр по ссылке). $point=-1, если фрагмент не найден.
**Возвращаемое значение** 

    $Result  - найденный фрагментов после работы регулярного выражения или
    пустая строка, если фрагмент не найден.
###### [в список](#registrator-vremeni-zagruzki-stranicy)
***
#### TPageStarter
#### Стартер сессии страницы и регистратор пользовательских данных. 
##### Класс PageStarter обеспечивает запуск сессии страницы и регистрацию пользовательской информации в базе данных SQLite3: страницы сайта ... . 
##### ---Первая группа констант используются для указания режимов вывода сообщений библиотеки. TPhpPrown позволяет выводить сообщения четырьмя способами: 
##### ---в текущей позиции сайта, 
##### ---через исключение с пользовательской ошибкой, 
##### ---в дополнительном блоке для сообщения (в дополнительном div-е), 
##### ---в диалоговом окне с помощью jQueryUi.
##### ---Вторая группа констант определяет семь типов переменных, используемых в библиотеке. 
##### v1.0, 26.01.2019-20.05.2019
**Режимы вывода сообщений об ошибках**

    rvsCurrentPos:  -1 - в текущей позиции сайта;
    rvsTriggerError: 0 - исключение с пользовательской ошибкой;  
    rvsMakeDiv:      1 - в дополнительном div-е для сообщения;   
    rvsDialogWindow: 2 - в диалоговом окне с помощью JQueryUI.

**Типы переменных**

    tArr: array    - массивы (упорядоченные соответствия значений и ключей);
    tObj: object   - объекты, представители определённого класса;    
    Int: integer   - целые числа (из множества {...,-2,-1,0,1,2,...});
    tFloat: double - числа с плавающей точкой;    
    tStr: string   - наборы символов=байт (256 различных значений);   
    tBool: boolean - простейшийе типы, выражающие истинность значения;  
    tNull: null    - переменные без значения.  
###### [в список](#starter-sessii-stranicy)
***
#### TUploadToServer
#### Загрузчик файлов на сервер. 
##### ---Модуль собирает в одном файле константы, соответствующие пользовательским ошибочным сообщениям и предупреждениям со всех функций библиотеки.
##### v1.0, 26.11.2020-03.12.2020
###### [в список](#zagruzchik-fajlov-na-server)
***
